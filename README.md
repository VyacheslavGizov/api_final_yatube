# **API_FINAL_YATUBE**

Данный проект представляет собой API для платформы, позволяющей пользователям делиться своими публикациями, комментировать их, подписываться друг на друга

---

## Основные возможности

- Получить список публикаций (доступна пагинация при указании параметров limit и offset) или отдельную публикацию
- Создать, обновить или удалить публикацию
- Получить список комментариев к посту или отдельный комментарий
- Добавить, обновить или удалить комементарий
- Получить список сообществ и информацию о выбранном сообществе
- Получить список подписок пользователя, сделавшего запрос (возможен поиск по параметру search)
- Подписаться на пользователя, переданного в теле запроса
- Передача данных осуществляется в формате JSON.

Аутентифицированным пользователям разрешено изменение и удаление своего контента. В остальных случаях доступ предоставляется только для чтения. Аутентификация с использованием JWT-токена, добавление новых пользователей через API не предусмотрено.

---

## **Как запустить проект**

1. Клонировать репозиторий и перейти в него в командной строке:

   ```bash
   https://github.com/VyacheslavGizov/api_final_yatube
   cd api_final_yatube
   ```
2. Создать и активировать виртуальное окружение:

   ```bash
   python -m venv venv
   source venv/Scripts/activate
   ```
3. Установить зависимости из файла requirements.txt:

   ```bash
   pip install -r requirements.txt
   ```
4. Выполнить миграции:

   ```bash
   python3 manage.py migrate
   ```
5. Запустить проект:

   ```bash
   python3 manage.py runserver
   ```

---

## **Примеры запросов**

### **Получение публикаций с пагинацией**

```
GET: http://127.0.0.1:8000/api/v1/posts/?limit=1&offset=1
```

Ответ:

```json
{
    "count": 2,
    "next": null,
    "previous": "http://127.0.0.1:8000/api/v1/posts/?limit=1",
    "results": [
        {
            "id": 2,
            "author": "regular_user",
            "image": null,
            "text": "Пост с группой",
            "pub_date": "2024-09-02T15:25:48.834327Z",
            "group": 1
        }
    ]
}
```

### **Создать публикацию**

```
POST: http://127.0.0.1:8000/api/v1/posts/
```

Payload:

```json
    {
        "text": "Пост с группой",
        "group": 1
    }
```

Ответ:

```json
{
    "id": 4,
    "author": "regular_user",
    "image": null,
    "text": "Пост с группой",
    "pub_date": "2024-09-02T15:31:22.826589Z",
    "group": 1
}
```

### **Удалить публикацию**

```
DELETE: http://127.0.0.1:8000/api/v1/posts/1/
```

Ответ:

```json
{
     "detail": "Not found."
}
